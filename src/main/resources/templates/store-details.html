<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Детайли за магазин</title>
    <link rel="stylesheet" th:href="@{/css/store.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-4">
    <h1 class="store-title" th:text="${store.name}">Store Name</h1>

    <!-- Действия – Преместени най-отгоре -->
    <div class="mb-4 d-flex gap-2 justify-content-center">
        <a class="btn btn-success" th:href="@{'/store/' + ${store.id} + '/products/add'}">✚ Добави продукт</a>
        <a class="btn btn-primary" th:href="@{'/store/' + ${store.id} + '/cashiers/add'}">✚ Добави касиер</a>
    </div>

    <!-- Продукти -->
    <section class="mt-5">
        <h2>Продукти в магазина</h2>
        <div class="table-wrapper">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>Име</th>
                    <th>Категория</th>
                    <th>Количество</th>
                    <th>Цена на доставка</th>
                    <th>Срок на годност</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${products}">
                    <td th:text="${product.name}"></td>
                    <td th:text="${product.category}"></td>
                    <td th:text="${product.quantity}"></td>
                    <td th:text="${product.deliveryPrice} + ' лв.'"></td>
                    <td>
                        <span th:if="${product.hasExpirationDate}" th:text="${#temporals.format(product.expirationDate, 'dd.MM.yyyy')}"></span>
                        <span th:unless="${product.hasExpirationDate}">-</span>
                    </td>
                </tr>
                <tr th:if="${products.empty}">
                    <td colspan="5">Няма добавени продукти</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- Касиери -->
    <section class="mt-5">
        <h2>Касиери</h2>
        <div class="table-wrapper">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>Име</th>
                    <th>Месечна заплата</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cashier : ${store.cashiers}">
                    <td th:text="${cashier.name}"></td>
                    <td th:text="${cashier.monthlySalary} + ' лв.'"></td>
                </tr>
                <tr th:if="${store.cashiers.empty}">
                    <td colspan="2">Няма добавени касиери</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <div class="back-link mt-4">
        <a th:href="@{'/store/' + ${store.id}}">⬅ Обратно към списъка</a>
    </div>
</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/store.js"></script>
</body>
</html>

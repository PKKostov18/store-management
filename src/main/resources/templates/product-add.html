<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Добавяне на продукт</title>
    <script>
        function toggleExpirationDate() {
            var checkbox = document.getElementById("hasExpirationDate");
            var expirationDiv = document.getElementById("expirationDiv");
            expirationDiv.style.display = checkbox.checked ? "block" : "none";
        }
    </script>
</head>
<body>
<h2>Добави нов продукт</h2>

<form th:action="@{'/store/' + ${store.id} + '/products/add'}" th:object="${product}" method="post">
    <input type="hidden" th:field="*{store.id}" />

    Име: <input type="text" th:field="*{name}"/><br/>
    Цена на доставка: <input type="number" step="0.01" th:field="*{deliveryPrice}"/><br/>
    Количество: <input type="number" th:field="*{quantity}"/><br/>

    Категория:
    <select th:field="*{category}">
        <option th:each="c : ${categories}" th:value="${c}" th:text="${c}"></option>
    </select><br/>

    <label>
        <input type="checkbox" id="hasExpirationDate" th:field="*{hasExpirationDate}" onchange="toggleExpirationDate()"/>
        Има срок на годност
    </label><br/>

    <div id="expirationDiv" style="display:none;">
        Срок на годност: <input type="date" th:field="*{expirationDate}"/><br/>
    </div>

    <button type="submit">Добави</button>
</form>

<script>
    // Показва/скрива датата при зареждане на формата (ако е отметнато)
    window.onload = toggleExpirationDate;
</script>

</body>
</html>
